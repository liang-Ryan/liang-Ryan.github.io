import{_ as k}from"./pageContent-hl2ERUHN.js";import{q as u,v as E,o as I,a as x,w as o,z as a,A as w,bZ as y,E as U}from"./index-Cmhkly_r.js";import{_ as P,E as q}from"./_plugin-vue_export-helper-Bo3ObqG9.js";import{E as B,a as C}from"./el-form-item-Ce2-oa-m.js";import{E as F}from"./el-input-D0IuBTed.js";import"./_baseClone-B47dmfT7.js";const A={__name:"profile",setup(N){const s=u(""),{userInfo:{id:i,username:p,nickname:d,email:_},getUserInfo:f}=E(),e=u({id:i,username:p,nickname:d,email:_}),c={nickname:[{required:!0,message:"昵称不能为空",trigger:"blur"},{pattern:/^\S{2,10}$/,message:"昵称长度应为 2~10个 非空字符",trigger:"blur"}],email:[{required:!0,message:"邮箱不能为空",trigger:"blur"},{type:"email",message:"邮箱格式不正确",trigger:"blur"}]},g=async()=>{await s.value.validate();const{data:{message:m}}=await y(e.value);f(),U.success(m)};return(m,l)=>{const r=F,n=B,v=C,b=q,V=k;return I(),x(V,{title:"基本资料"},{default:o(()=>[a(v,{model:e.value,rules:c,ref_key:"formRef",ref:s,"label-width":"100px"},{default:o(()=>[a(n,{label:"登录用户"},{default:o(()=>[a(r,{modelValue:e.value.username,"onUpdate:modelValue":l[0]||(l[0]=t=>e.value.username=t),disabled:""},null,8,["modelValue"])]),_:1}),a(n,{label:"用户昵称",prop:"nickname"},{default:o(()=>[a(r,{modelValue:e.value.nickname,"onUpdate:modelValue":l[1]||(l[1]=t=>e.value.nickname=t)},null,8,["modelValue"])]),_:1}),a(n,{label:"用户邮箱",prop:"email"},{default:o(()=>[a(r,{modelValue:e.value.email,"onUpdate:modelValue":l[2]||(l[2]=t=>e.value.email=t)},null,8,["modelValue"])]),_:1})]),_:1},8,["model"]),a(b,{type:"primary",onClick:g},{default:o(()=>[w("提交修改")]),_:1})]),_:1})}}},Z=P(A,[["__scopeId","data-v-361709df"]]);export{Z as default};
