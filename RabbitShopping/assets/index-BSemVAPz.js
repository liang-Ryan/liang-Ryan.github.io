import{z as ye,B as ne,aM as he,C as be,K as q,aC as ge,u as J,aN as _e,aO as de,aP as oe,w as Z,aQ as Ce,aR as we,aS as ke,aT as Ee,aU as H,e as ee,g as W,n as U,F as T,v as F,aV as Ie,aw as Se,aj as Te,A as te,m as x,q as w,s as $,U as e,x as B,y as t,R as y,M as _,N as G,O as Me,al as $e,T as Q,P as ie,_ as re,aW as Be,k as Fe,aX as Le,l as L,aY as Pe,H as De,ai as Ae,aZ as Oe,a_ as se,I as xe,aB as ze,p as Ne,ab as Re,aF as Ye,a$ as Ve,an as je,ao as Ue,b0 as We,W as He,Y as Xe,b1 as Ke,Q as v,G as X,a5 as le,$ as qe,a1 as Ze,a2 as Ge}from"./index-BXY17txy.js";import{b as ae,E as Qe}from"./button-B08FxoMp.js";import{P as K}from"./vnode-DnIm-PrG.js";import{F as Je,i as eo,E as oo}from"./focus-trap-CfW1_V8E.js";import{t as to,U as ce}from"./event-BE20p1dL.js";import{a as so}from"./scroll-BU4WTEMc.js";const lo=(...o)=>s=>{o.forEach(d=>{ye(d)?d(s):d.value=s})},ao=(o,s,d,f)=>{let i={offsetX:0,offsetY:0};const c=u=>{const m=u.clientX,h=u.clientY,{offsetX:b,offsetY:g}=i,p=o.value.getBoundingClientRect(),l=p.left,M=p.top,z=p.width,Y=p.height,N=document.documentElement.clientWidth,V=document.documentElement.clientHeight,j=-l+b,R=-M+g,P=N-l-z+b,D=V-M-Y+g,S=n=>{let C=b+n.clientX-m,E=g+n.clientY-h;f!=null&&f.value||(C=Math.min(Math.max(C,j),P),E=Math.min(Math.max(E,R),D)),i={offsetX:C,offsetY:E},o.value&&(o.value.style.transform=`translate(${q(C)}, ${q(E)})`)},A=()=>{document.removeEventListener("mousemove",S),document.removeEventListener("mouseup",A)};document.addEventListener("mousemove",S),document.addEventListener("mouseup",A)},r=()=>{s.value&&o.value&&s.value.addEventListener("mousedown",c)},a=()=>{s.value&&o.value&&s.value.removeEventListener("mousedown",c)};ne(()=>{he(()=>{d.value?r():a()})}),be(()=>{a()})},no=(o,s={})=>{ge(o)||to("[useLockscreen]","You need to pass a ref param to this function");const d=s.ns||J("popup"),f=_e(()=>d.bm("parent","hidden"));if(!de||oe(document.body,f.value))return;let i=0,c=!1,r="0";const a=()=>{setTimeout(()=>{Ee(document==null?void 0:document.body,f.value),c&&document&&(document.body.style.width=r)},200)};Z(o,u=>{if(!u){a();return}c=!oe(document.body,f.value),c&&(r=document.body.style.width),i=so(d.namespace.value);const m=document.documentElement.clientHeight<document.body.scrollHeight,h=Ce(document.body,"overflowY");i>0&&(m||h==="scroll")&&c&&(document.body.style.width=`calc(100% - ${i}px)`),we(document.body,f.value)}),ke(()=>a())},ue=o=>{if(!o)return{onClick:H,onMousedown:H,onMouseup:H};let s=!1,d=!1;return{onClick:r=>{s&&d&&o(r),s=d=!1},onMousedown:r=>{s=r.target===r.currentTarget},onMouseup:r=>{d=r.target===r.currentTarget}}},io=ee({mask:{type:Boolean,default:!0},customMaskEvent:{type:Boolean,default:!1},overlayClass:{type:W([String,Array,Object])},zIndex:{type:W([String,Number])}}),ro={click:o=>o instanceof MouseEvent},co="overlay";var uo=U({name:"ElOverlay",props:io,emits:ro,setup(o,{slots:s,emit:d}){const f=J(co),i=u=>{d("click",u)},{onClick:c,onMousedown:r,onMouseup:a}=ue(o.customMaskEvent?void 0:i);return()=>o.mask?T("div",{class:[f.b(),o.overlayClass],style:{zIndex:o.zIndex},onClick:c,onMousedown:r,onMouseup:a},[F(s,"default")],K.STYLE|K.CLASS|K.PROPS,["onClick","onMouseup","onMousedown"]):Ie("div",{class:o.overlayClass,style:{zIndex:o.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[F(s,"default")])}});const fo=uo,fe=Symbol("dialogInjectionKey"),ve=ee({center:Boolean,alignCenter:Boolean,closeIcon:{type:Se},draggable:Boolean,overflow:Boolean,fullscreen:Boolean,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}}),vo={close:()=>!0},mo=["aria-level"],po=["aria-label"],yo=["id"],ho=U({name:"ElDialogContent"}),bo=U({...ho,props:ve,emits:vo,setup(o){const s=o,{t:d}=Te(),{Close:f}=Be,{dialogRef:i,headerRef:c,bodyId:r,ns:a,style:u}=te(fe),{focusTrapRef:m}=te(Je),h=x(()=>[a.b(),a.is("fullscreen",s.fullscreen),a.is("draggable",s.draggable),a.is("align-center",s.alignCenter),{[a.m("center")]:s.center}]),b=lo(m,i),g=x(()=>s.draggable),p=x(()=>s.overflow);return ao(i,c,g,p),(l,M)=>(w(),$("div",{ref:t(b),class:B(t(h)),style:ie(t(u)),tabindex:"-1"},[e("header",{ref_key:"headerRef",ref:c,class:B([t(a).e("header"),{"show-close":l.showClose}])},[F(l.$slots,"header",{},()=>[e("span",{role:"heading","aria-level":l.ariaLevel,class:B(t(a).e("title"))},y(l.title),11,mo)]),l.showClose?(w(),$("button",{key:0,"aria-label":t(d)("el.dialog.close"),class:B(t(a).e("headerbtn")),type:"button",onClick:M[0]||(M[0]=z=>l.$emit("close"))},[T(t($e),{class:B(t(a).e("close"))},{default:_(()=>[(w(),G(Me(l.closeIcon||t(f))))]),_:1},8,["class"])],10,po)):Q("v-if",!0)],2),e("div",{id:t(r),class:B(t(a).e("body"))},[F(l.$slots,"default")],10,yo),l.$slots.footer?(w(),$("footer",{key:0,class:B(t(a).e("footer"))},[F(l.$slots,"footer")],2)):Q("v-if",!0)],6))}});var go=re(bo,[["__file","dialog-content.vue"]]);const _o=ee({...ve,appendToBody:Boolean,appendTo:{type:W(String),default:"body"},beforeClose:{type:W(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:{type:Boolean,default:!1},headerAriaLevel:{type:String,default:"2"}}),Co={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[ce]:o=>Fe(o),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},wo=(o,s)=>{var d;const i=Ae().emit,{nextZIndex:c}=Le();let r="";const a=ae(),u=ae(),m=L(!1),h=L(!1),b=L(!1),g=L((d=o.zIndex)!=null?d:c());let p,l;const M=Pe("namespace",Oe),z=x(()=>{const I={},O=`--${M.value}-dialog`;return o.fullscreen||(o.top&&(I[`${O}-margin-top`]=o.top),o.width&&(I[`${O}-width`]=q(o.width))),I}),Y=x(()=>o.alignCenter?{display:"flex"}:{});function N(){i("opened")}function V(){i("closed"),i(ce,!1),o.destroyOnClose&&(b.value=!1)}function j(){i("close")}function R(){l==null||l(),p==null||p(),o.openDelay&&o.openDelay>0?{stop:p}=se(()=>A(),o.openDelay):A()}function P(){p==null||p(),l==null||l(),o.closeDelay&&o.closeDelay>0?{stop:l}=se(()=>n(),o.closeDelay):n()}function D(){function I(O){O||(h.value=!0,m.value=!1)}o.beforeClose?o.beforeClose(I):P()}function S(){o.closeOnClickModal&&D()}function A(){de&&(m.value=!0)}function n(){m.value=!1}function C(){i("openAutoFocus")}function E(){i("closeAutoFocus")}function me(I){var O;((O=I.detail)==null?void 0:O.focusReason)==="pointer"&&I.preventDefault()}o.lockScroll&&no(m);function pe(){o.closeOnPressEscape&&D()}return Z(()=>o.modelValue,I=>{I?(h.value=!1,R(),b.value=!0,g.value=eo(o.zIndex)?c():g.value++,De(()=>{i("open"),s.value&&(s.value.scrollTop=0)})):m.value&&P()}),Z(()=>o.fullscreen,I=>{s.value&&(I?(r=s.value.style.transform,s.value.style.transform=""):s.value.style.transform=r)}),ne(()=>{o.modelValue&&(m.value=!0,b.value=!0,R())}),{afterEnter:N,afterLeave:V,beforeLeave:j,handleClose:D,onModalClick:S,close:P,doClose:n,onOpenAutoFocus:C,onCloseAutoFocus:E,onCloseRequested:pe,onFocusoutPrevented:me,titleId:a,bodyId:u,closed:h,style:z,overlayDialogStyle:Y,rendered:b,visible:m,zIndex:g}},ko=["aria-label","aria-labelledby","aria-describedby"],Eo=U({name:"ElDialog",inheritAttrs:!1}),Io=U({...Eo,props:_o,emits:Co,setup(o,{expose:s}){const d=o,f=xe();ze({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},x(()=>!!f.title));const i=J("dialog"),c=L(),r=L(),a=L(),{visible:u,titleId:m,bodyId:h,style:b,overlayDialogStyle:g,rendered:p,zIndex:l,afterEnter:M,afterLeave:z,beforeLeave:Y,handleClose:N,onModalClick:V,onOpenAutoFocus:j,onCloseAutoFocus:R,onCloseRequested:P,onFocusoutPrevented:D}=wo(d,c);Ne(fe,{dialogRef:c,headerRef:r,bodyId:h,ns:i,rendered:p,style:b});const S=ue(V),A=x(()=>d.draggable&&!d.fullscreen);return s({visible:u,dialogContentRef:a}),(n,C)=>(w(),G(We,{to:n.appendTo,disabled:n.appendTo!=="body"?!1:!n.appendToBody},[T(Ue,{name:"dialog-fade",onAfterEnter:t(M),onAfterLeave:t(z),onBeforeLeave:t(Y),persisted:""},{default:_(()=>[Re(T(t(fo),{"custom-mask-event":"",mask:n.modal,"overlay-class":n.modalClass,"z-index":t(l)},{default:_(()=>[e("div",{role:"dialog","aria-modal":"true","aria-label":n.title||void 0,"aria-labelledby":n.title?void 0:t(m),"aria-describedby":t(h),class:B(`${t(i).namespace.value}-overlay-dialog`),style:ie(t(g)),onClick:C[0]||(C[0]=(...E)=>t(S).onClick&&t(S).onClick(...E)),onMousedown:C[1]||(C[1]=(...E)=>t(S).onMousedown&&t(S).onMousedown(...E)),onMouseup:C[2]||(C[2]=(...E)=>t(S).onMouseup&&t(S).onMouseup(...E))},[T(t(oo),{loop:"",trapped:t(u),"focus-start-el":"container",onFocusAfterTrapped:t(j),onFocusAfterReleased:t(R),onFocusoutPrevented:t(D),onReleaseRequested:t(P)},{default:_(()=>[t(p)?(w(),G(go,Ye({key:0,ref_key:"dialogContentRef",ref:a},n.$attrs,{center:n.center,"align-center":n.alignCenter,"close-icon":n.closeIcon,draggable:t(A),overflow:n.overflow,fullscreen:n.fullscreen,"show-close":n.showClose,title:n.title,"aria-level":n.headerAriaLevel,onClose:t(N)}),Ve({header:_(()=>[n.$slots.title?F(n.$slots,"title",{key:1}):F(n.$slots,"header",{key:0,close:t(N),titleId:t(m),titleClass:t(i).e("title")})]),default:_(()=>[F(n.$slots,"default")]),_:2},[n.$slots.footer?{name:"footer",fn:_(()=>[F(n.$slots,"footer")])}:void 0]),1040,["center","align-center","close-icon","draggable","overflow","fullscreen","show-close","title","aria-level","onClose"])):Q("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,ko)]),_:3},8,["mask","overlay-class","z-index"]),[[je,t(u)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["to","disabled"]))}});var So=re(Io,[["__file","dialog.vue"]]);const To=He(So),k=o=>(Ze("data-v-f5e1b778"),o=o(),Ge(),o),Mo={class:"xtx-pay-checkout-page"},$o={class:"container"},Bo={class:"wrapper"},Fo=k(()=>e("h3",{class:"box-title"},"收货地址",-1)),Lo={class:"box-body"},Po={class:"address"},Do={class:"text"},Ao={key:0,class:"none"},Oo={key:1},xo=k(()=>e("span",null,[v("收"),e("i"),v("货"),e("i"),v("人：")],-1)),zo=k(()=>e("span",null,"联系方式：",-1)),No=k(()=>e("span",null,"收货地址：",-1)),Ro={class:"action"},Yo=k(()=>e("h3",{class:"box-title"},"商品信息",-1)),Vo={class:"box-body"},jo={class:"goods"},Uo=k(()=>e("thead",null,[e("tr",null,[e("th",{width:"520"},"商品信息"),e("th",{width:"170"},"单价"),e("th",{width:"170"},"数量"),e("th",{width:"170"},"小计"),e("th",{width:"170"},"实付")])],-1)),Wo={href:"javascript:;",class:"info"},Ho=["src"],Xo={class:"right"},Ko=qe('<h3 class="box-title" data-v-f5e1b778>配送时间</h3><div class="box-body" data-v-f5e1b778><a class="my-btn active" href="javascript:;" data-v-f5e1b778>不限送货时间：周一至周日</a><a class="my-btn" href="javascript:;" data-v-f5e1b778>工作日送货：周一至周五</a><a class="my-btn" href="javascript:;" data-v-f5e1b778>双休日、假日送货：周六至周日</a></div><h3 class="box-title" data-v-f5e1b778>支付方式</h3><div class="box-body" data-v-f5e1b778><a class="my-btn active" href="javascript:;" data-v-f5e1b778>在线支付</a><a class="my-btn" href="javascript:;" data-v-f5e1b778>货到付款</a><span style="color:#999;" data-v-f5e1b778>货到付款需付5元手续费</span></div><h3 class="box-title" data-v-f5e1b778>金额明细</h3>',5),qo={class:"box-body"},Zo={class:"total"},Go=k(()=>e("dt",null,"商品件数：",-1)),Qo=k(()=>e("dt",null,"商品总价：",-1)),Jo=k(()=>e("dt",null,[v("运"),e("i"),v("费：")],-1)),et=k(()=>e("dt",null,"应付总额：",-1)),ot={class:"price"},tt={class:"submit"},st={class:"addressWrapper"},lt=["onClick"],at=k(()=>e("span",null,[v("收"),e("i"),v("货"),e("i"),v("人：")],-1)),nt=k(()=>e("span",null,"联系方式：",-1)),dt=k(()=>e("span",null,"收货地址：",-1)),it={class:"dialog-footer"},rt={__name:"index",setup(o){const s=Ke(),d=L(!1),f=L({}),i=r=>{f.value=r},c=()=>{s.address=f,d.value=!1};return(r,a)=>{var h,b,g,p;const u=Qe,m=To;return w(),$(X,null,[e("div",Mo,[e("div",$o,[e("div",Bo,[Fo,e("div",Lo,[e("div",Po,[e("div",Do,[t(s).address?(w(),$("ul",Oo,[e("li",null,[xo,v(y(t(s).address.receiver),1)]),e("li",null,[zo,v(y(t(s).address.contact),1)]),e("li",null,[No,v(y(t(s).address.fullLocation)+" "+y(t(s).address.address),1)])])):(w(),$("div",Ao," 您需要先添加收货地址才可提交订单。 "))]),e("div",Ro,[T(u,{size:"large",onClick:a[0]||(a[0]=l=>d.value=!0)},{default:_(()=>[v("切换地址")]),_:1}),T(u,{size:"large",onClick:a[1]||(a[1]=l=>r.addFlag=!0)},{default:_(()=>[v("添加地址")]),_:1})])])]),Yo,e("div",Vo,[e("table",jo,[Uo,e("tbody",null,[(w(!0),$(X,null,le(t(s).orderInfo.goods,l=>(w(),$("tr",{key:l.id},[e("td",null,[e("a",Wo,[e("img",{src:l.picture,alt:""},null,8,Ho),e("div",Xo,[e("p",null,y(l.name),1),e("p",null,y(l.attrsText),1)])])]),e("td",null,"¥"+y(l.price),1),e("td",null,y(l.price),1),e("td",null,"¥"+y(l.totalPrice),1),e("td",null,"¥"+y(l.totalPayPrice),1)]))),128))])])]),Ko,e("div",qo,[e("div",Zo,[e("dl",null,[Go,e("dd",null,y((h=t(s).orderInfo.summary)==null?void 0:h.goodsCount)+"件",1)]),e("dl",null,[Qo,e("dd",null," ¥"+y((b=t(s).orderInfo.summary)==null?void 0:b.totalPrice.toFixed(2)),1)]),e("dl",null,[Jo,e("dd",null,"¥"+y((g=t(s).orderInfo.summary)==null?void 0:g.postFee.toFixed(2)),1)]),e("dl",null,[et,e("dd",ot,y((p=t(s).orderInfo.summary)==null?void 0:p.totalPayPrice.toFixed(2)),1)])])]),e("div",tt,[T(u,{type:"primary",size:"large",onClick:a[2]||(a[2]=l=>t(s).submitOrder())},{default:_(()=>[v("提交订单")]),_:1})])])])]),T(m,{title:"切换收货地址",width:"30%",center:"",modelValue:d.value,"onUpdate:modelValue":a[3]||(a[3]=l=>d.value=l)},{footer:_(()=>[e("span",it,[T(u,null,{default:_(()=>[v("取消")]),_:1}),T(u,{type:"primary",onClick:c},{default:_(()=>[v("确定")]),_:1})])]),default:_(()=>[e("div",st,[(w(!0),$(X,null,le(t(s).orderInfo.userAddresses,l=>(w(),$("div",{class:B(["text item",{active:l.id===f.value.id}]),key:l.id,onClick:M=>i(l)},[e("ul",null,[e("li",null,[at,v(y(l.receiver),1)]),e("li",null,[nt,v(y(l.contact),1)]),e("li",null,[dt,v(y(l.fullLocation+l.address),1)])])],10,lt))),128))])]),_:1},8,["modelValue"])],64)}}},yt=Xe(rt,[["__scopeId","data-v-f5e1b778"]]);export{yt as default};
