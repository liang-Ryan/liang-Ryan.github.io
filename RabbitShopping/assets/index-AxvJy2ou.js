import{Y as E,a8 as y,s as _,U as t,F as n,y as s,G as S,a5 as b,M as l,T as w,Q as u,R as c,q as p,a1 as V,a2 as I,a0 as L}from"./index-BFQ6Tz1K.js";import{E as N}from"./empty-99G5P5SM.js";import{E as B}from"./button-DIhkNhOz.js";import{E as F}from"./popover-CPsQn01M.js";import"./popper-D1SrGZNM.js";import"./input-DXLpPf-k.js";import{E as G}from"./input-number-2uMgaY3b.js";import{E as $}from"./checkbox-CbQ-bVyM.js";import"./index-DyU6y3yo.js";import"./focus-trap-ByNPDlLm.js";import"./event-BE20p1dL.js";import"./isEqual-DygpQGED.js";const a=d=>(V("data-v-67966a51"),d=d(),I(),d),R={class:"xtx-cart-page"},T={class:"container m-top-20"},U={class:"cart"},A={width:"120"},P=a(()=>t("th",{width:"400"},"商品信息",-1)),j=a(()=>t("th",{width:"220"},"单价",-1)),q=a(()=>t("th",{width:"180"},"数量",-1)),z=a(()=>t("th",{width:"180"},"小计",-1)),D=a(()=>t("th",{width:"140"},"操作",-1)),M={class:"goods"},O=["src"],Q={class:"name ellipsis"},Y={class:"tc"},H={class:"tc"},J={class:"tc"},K={class:"f16 red"},W={class:"tc"},X=a(()=>t("a",{href:"javascript:;"},"删除",-1)),Z={key:0},tt={colspan:"6"},ot={class:"cart-none"},et={class:"action"},st={class:"batch"},nt={class:"red"},ct={class:"total"},at={__name:"index",setup(d){const e=y();e.getCartList();const f=()=>{e.changeCartList()};return(v,r)=>{const h=$,C=L("RouterLink"),g=G,x=F,m=B,k=N;return p(),_("div",R,[t("div",T,[t("div",U,[t("table",null,[t("thead",null,[t("tr",null,[t("th",A,[n(h,{"model-value":s(e).isAllSelected,onChange:r[0]||(r[0]=o=>s(e).changeAllSelected(o))},null,8,["model-value"])]),P,j,q,z,D])]),t("tbody",null,[(p(!0),_(S,null,b(s(e).cartList,o=>(p(),_("tr",{key:o.id},[t("td",null,[n(h,{"model-value":o.selected,onChange:i=>s(e).changeSelected(o.skuId,i)},null,8,["model-value","onChange"])]),t("td",null,[t("div",M,[n(C,{to:`/detail/${o.id}`},{default:l(()=>[t("img",{src:o.picture,alt:""},null,8,O)]),_:2},1032,["to"]),t("div",null,[t("p",Q,c(o.name),1)])])]),t("td",Y,[t("p",null,"¥"+c(o.price),1)]),t("td",H,[n(g,{modelValue:o.count,"onUpdate:modelValue":i=>o.count=i,min:1},null,8,["modelValue","onUpdate:modelValue"])]),t("td",J,[t("p",K," ¥"+c((o.price*o.count).toFixed(2)),1)]),t("td",W,[t("p",null,[n(x,{title:"确认删除吗?","confirm-button-text":"确认","cancel-button-text":"取消",onConfirm:i=>s(e).delCart(o.skuId)},{reference:l(()=>[X]),_:2},1032,["onConfirm"])])])]))),128)),s(e).cartList.length===0?(p(),_("tr",Z,[t("td",tt,[t("div",ot,[n(k,{description:"购物车列表为空"},{default:l(()=>[n(m,{type:"primary",onClick:r[1]||(r[1]=o=>v.$router.push("/"))},{default:l(()=>[u("随便逛逛")]),_:1})]),_:1})])])])):w("",!0)])])]),t("div",et,[t("div",st,[u(" 共 "+c(s(e).cartGoodsTotalCount)+" 件商品，已选择 "+c(s(e).cartGoodsSelectedCount)+" 件，商品合计： ",1),t("span",nt,"¥ "+c(s(e).cartGoodsSelectedPrice.toFixed(2)),1)]),t("div",ct,[n(m,{size:"large",type:"primary",onClick:f},{default:l(()=>[u("下单结算")]),_:1})])])])])}}},gt=E(at,[["__scopeId","data-v-67966a51"]]);export{gt as default};
