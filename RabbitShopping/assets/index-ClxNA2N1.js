import{Y as I,l as b,q as n,s as c,U as e,R as l,G as y,a5 as $,N as z,M as k,as as Y,a0 as F,at as U,w as T,ab as D,an as N,y as v,P,x as w,au as A,m as X,a6 as j,a8 as q,F as _,av as R,Q as h,a1 as H,a2 as O}from"./index-BFQ6Tz1K.js";import{E as Q}from"./button-DIhkNhOz.js";import"./input-DXLpPf-k.js";import{E as J}from"./input-number-2uMgaY3b.js";import{E as K,a as W}from"./breadcrumb-item-D3R1zAxe.js";import"./index-DyU6y3yo.js";import"./event-BE20p1dL.js";const Z={class:"goods-hot"},ee=["src"],se={class:"name ellipsis"},te={class:"desc ellipsis"},ae={class:"price"},le={__name:"hotGoods",props:{id:{type:[Number,String]},type:{type:[Number,String]},title:{type:String}},setup(u){const a=u,s=b([]);return(async({id:o,type:t})=>{const{data:{result:d}}=await Y({id:o,type:t});s.value=d})({id:a.id,type:a.type}),(o,t)=>{const d=F("RouterLink");return n(),c("div",Z,[e("h3",null,l(u.title),1),(n(!0),c(y,null,$(s.value,i=>(n(),z(d,{to:`/detail/${i.id}`,class:"goods-item",key:i.id},{default:k(()=>[e("img",{src:i.picture,alt:""},null,8,ee),e("p",se,l(i.name),1),e("p",te,l(i.desc),1),e("p",ae,"¥"+l(i.price),1)]),_:2},1032,["to"]))),128))])}}},M=I(le,[["__scopeId","data-v-3575278d"]]),oe={class:"goods-image"},ne=["src"],ce={class:"small"},ie=["onMouseenter"],ue=["src"],de={__name:"imageView",props:{imageList:{type:Array,default:()=>[]}},setup(u){const a=b(0),s=f=>{a.value=f},p=b(null),{elementX:o,elementY:t,isOutside:d}=U(p),i=b(0),g=b(0);return T([o,t,d],()=>{d.value||(o.value>100&&o.value<300?i.value=o.value-100:o.value<100?i.value=0:i.value=200,t.value>100&&t.value<300?g.value=t.value-100:t.value<100?g.value=0:g.value=200)}),(f,E)=>(n(),c("div",oe,[e("div",{class:"large",ref_key:"largeRef",ref:p},[e("img",{src:u.imageList[a.value],alt:""},null,8,ne),D(e("div",{class:"layer",style:P({left:`${i.value}px`,top:`${g.value}px`})},null,4),[[N,!v(d)]])],512),e("ul",ce,[(n(!0),c(y,null,$(u.imageList,(C,S)=>(n(),c("li",{key:S,class:w({active:S===a.value}),onMouseenter:L=>s(S)},[e("img",{src:C,alt:""},null,8,ue)],42,ie))),128))]),D(e("div",{class:"magnifying",style:P([{backgroundImage:`url(${u.imageList[a.value]})`,backgroundPositionX:`${-i.value*2}px`,backgroundPositionY:`${-g.value*2}px`}])},null,4),[[N,!v(d)]])]))}},re=I(de,[["__scopeId","data-v-32e51974"]]),_e={class:"goods-sku"},pe=["src","title","onClick"],me=["onClick"],ve={__name:"sku",setup(u){const a=A();return(s,p)=>(n(),c("div",_e,[(n(!0),c(y,null,$(v(a).goodsDetail.specs,o=>(n(),c("dl",{key:o.id},[e("dt",null,l(o.name),1),e("dd",null,[(n(!0),c(y,null,$(o.values,t=>(n(),c(y,{key:t.name},[t.picture?(n(),c("img",{key:0,class:w({active:t.name===v(a).activeSku[o.name],disabled:t.disabled}),src:t.picture,title:t.name,onClick:d=>v(a).switchSku(o.name,t)},null,10,pe)):(n(),c("span",{key:1,class:w({active:t.name===v(a).activeSku[o.name],disabled:t.disabled}),onClick:d=>v(a).switchSku(o.name,t)},l(t.name),11,me))],64))),128))])]))),128))]))}},he=I(ve,[["__scopeId","data-v-e64b7b41"]]),m=u=>(H("data-v-bf62fcb4"),u=u(),O(),u),ge={class:"xtx-goods-page"},fe={class:"container"},ke={class:"bread-container"},ye={class:"info-container"},be={class:"goods-info"},$e={class:"media"},Se={class:"goods-sales"},xe=m(()=>e("p",null,"销量人气",-1)),Ie=m(()=>e("p",null,[e("i",{class:"iconfont icon-task-filling"}),h("销量人气")],-1)),Ce=m(()=>e("p",null,"商品评价",-1)),Le=m(()=>e("p",null,[e("i",{class:"iconfont icon-comment-filling"}),h("查看评价")],-1)),we=m(()=>e("p",null,"收藏人气",-1)),Ee=m(()=>e("p",null,[e("i",{class:"iconfont icon-favorite-filling"}),h("收藏商品")],-1)),Ge=m(()=>e("p",null,"品牌信息",-1)),Ve=m(()=>e("p",null,[e("i",{class:"iconfont icon-dynamic-filling"}),h("品牌主页")],-1)),Be={class:"spec"},De={class:"g-name"},Ne={class:"g-desc"},Pe={class:"g-price"},Re=m(()=>e("div",{class:"g-service"},[e("dl",null,[e("dt",null,"促销"),e("dd",null,"12月好物放送，App领券购买直降120元")]),e("dl",null,[e("dt",null,"服务"),e("dd",null,[e("span",null,"无忧退货"),e("span",null,"快速退款"),e("span",null,"免费包邮"),e("a",{href:"javascript:;"},"了解详情")])])],-1)),Me={class:"goods-footer"},Te={class:"goods-article"},Ae={class:"goods-tabs"},ze=m(()=>e("nav",null,[e("a",null,"商品详情")],-1)),Ye={class:"goods-detail"},Fe={class:"attrs"},Ue={class:"dt"},Xe={class:"dd"},je=["src"],qe={class:"goods-aside"},He={__name:"index",setup(u){const a=A(),s=X(()=>a.goodsDetail),p=j();a.getGoodsDetail(p.params.id),T(()=>p.path,()=>{a.getGoodsDetail(p.path.match(/\d+$/)[0])});const o=q(),t=b(1),d=()=>{a.skuSelected.skuId?(o.addCart({id:s.value.id,name:s.value.name,picture:s.value.mainPictures[0],price:s.value.price,count:t.value,skuId:a.skuSelected.skuId,attrsText:a.skuSelected.specsText,selected:!0}),R.success("成功添加到购物车")):R.warning("请先选择商品规格")};return(i,g)=>{var L,G,V;const f=W,E=K,C=J,S=Q;return n(),c("div",ge,[e("div",fe,[e("div",ke,[_(E,{separator:">"},{default:k(()=>{var r,B;return[_(f,{to:{path:"/"}},{default:k(()=>[h("首页")]),_:1}),_(f,{to:{path:`/category/${(r=s.value.categories)==null?void 0:r[1].id}`}},{default:k(()=>{var x;return[h(l((x=s.value.categories)==null?void 0:x[1].name),1)]}),_:1},8,["to"]),_(f,{to:{path:`/category/sub/${(B=s.value.categories)==null?void 0:B[0].id}`}},{default:k(()=>{var x;return[h(l((x=s.value.categories)==null?void 0:x[0].name),1)]}),_:1},8,["to"]),_(f,null,{default:k(()=>[h(l(s.value.desc),1)]),_:1})]}),_:1})]),e("div",ye,[e("div",null,[e("div",be,[e("div",$e,[_(re,{imageList:s.value.mainPictures},null,8,["imageList"]),e("ul",Se,[e("li",null,[xe,e("p",null,l(s.value.salesCount),1),Ie]),e("li",null,[Ce,e("p",null,l(s.value.commentCount),1),Le]),e("li",null,[we,e("p",null,l(s.value.collectCount),1),Ee]),e("li",null,[Ge,e("p",null,l((L=s.value.brand)==null?void 0:L.name),1),Ve])])]),e("div",Be,[e("p",De,l(s.value.name),1),e("p",Ne,l(s.value.desc),1),e("p",Pe,[e("span",null,l(s.value.price),1),e("span",null,l(s.value.oldPrice),1)]),Re,_(he),_(C,{modelValue:t.value,"onUpdate:modelValue":g[0]||(g[0]=r=>t.value=r),min:1},null,8,["modelValue"]),e("div",null,[_(S,{size:"large",class:"btn",onClick:d},{default:k(()=>[h(" 加入购物车 ")]),_:1})])])]),e("div",Me,[e("div",Te,[e("div",Ae,[ze,e("div",Ye,[e("ul",Fe,[(n(!0),c(y,null,$((G=s.value.details)==null?void 0:G.properties,r=>(n(),c("li",{key:r.name},[e("span",Ue,l(r.name),1),e("span",Xe,l(r.value),1)]))),128))]),(n(!0),c(y,null,$((V=s.value.details)==null?void 0:V.pictures,r=>(n(),c("img",{src:r,alt:"",key:r},null,8,je))),128))])])]),e("div",qe,[_(M,{id:v(p).params.id,type:"1",title:"24小时热榜"},null,8,["id"]),_(M,{id:v(p).params.id,type:"2",title:"周热榜"},null,8,["id"])])])])])])])}}},ss=I(He,[["__scopeId","data-v-bf62fcb4"]]);export{ss as default};
