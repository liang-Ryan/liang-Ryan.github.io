"use strict";(self["webpackChunksmart_shopping"]=self["webpackChunksmart_shopping"]||[]).push([[636],{4636:function(s,t,e){e.r(t),e.d(t,{default:function(){return v}});e(4114);var d=function(){var s=this,t=s._self._c;return t("div",{staticClass:"main-content"},[t("van-nav-bar",{attrs:{fixed:"",title:"收货地址","left-arrow":""},on:{"click-left":function(t){return s.toPay()}}}),t("div",{staticClass:"address-list"},[t("van-radio-group",{model:{value:s.defaultAddressId,callback:function(t){s.defaultAddressId=t},expression:"defaultAddressId"}},s._l(s.addressList,(function(e){return t("div",{key:e.address_id,staticClass:"address-item"},[t("div",{staticClass:"item-top"},[t("span",[s._v(s._s(e.name))]),t("span",[s._v(s._s(e.phone))])]),t("div",{staticClass:"item-content"},[t("div",[s._v(s._s(s.addressDetail(e)))])]),t("hr"),t("div",{staticClass:"item-bottom"},[t("van-radio",{attrs:{name:e.address_id},on:{click:function(t){return s.setDefaultAddress(e.address_id)}}},[t("span",{domProps:{innerHTML:s._s(e.address_id===s.defaultAddressId?"默认":"选择")}})]),t("div",{staticClass:"item-function"},[t("span",{on:{click:function(t){return s.toAddressEdit(e.name,e.phone,e.region.province,e.region.city,e.region.region,e.detail)}}},[t("van-icon",{attrs:{name:"edit"}}),s._v("编辑")],1),t("span",{on:{click:function(t){return s.delAddress(e.address_id)}}},[t("van-icon",{attrs:{name:"delete-o"}}),s._v("删除")],1)])],1)])})),0)],1),t("div",{staticClass:"footer"},[t("div",{on:{click:function(t){return s.$router.push("/addressEdit")}}},[s._v("添加新地址")])])],1)},a=[],r=(e(2427),e(5240)),i=e(5720);const n=()=>i.A.get("/address/defaultId"),o=()=>i.A.get("/address/list"),c=s=>i.A.post("/address/setDefault",{addressId:s}),u=s=>i.A.post("/address/remove",{addressId:s});var l={name:"addressPage",created(){this.getList(),this.getDefaultAddress()},data(){return{addressList:[],defaultAddressId:""}},methods:{async getDefaultAddress(){const{data:{defaultId:s}}=await n();this.defaultAddressId=s},async getList(){const{data:{list:s}}=await o();this.addressList=s},addressDetail(s){const{province:t,city:e,region:d}=s.region;return t+" "+e+" "+d+" "+s.detail},async setDefaultAddress(s){await c(s),this.$toast("修改默认收货地址成功")},toAddressEdit(s,t,e,d,a,r){this.$router.push({path:"/addressEdit",query:{addressName:s,addressPhone:t,addressRegion:e+d+a,addressDetail:r}})},async delAddress(s){r.A.confirm({message:"确认删除该地址吗？"}).then((async()=>{const{message:t}=await u(s);this.$toast(t),this.getList()})).catch((()=>{}))},toPay(){this.$router.push({path:"/pay",query:{mode:this.$route.query.mode,obj:this.$route.query.obj}})}}},f=l,h=e(1656),p=(0,h.A)(f,d,a,!1,null,"4fde1763",null),v=p.exports}}]);
//# sourceMappingURL=636.01d60424.js.map