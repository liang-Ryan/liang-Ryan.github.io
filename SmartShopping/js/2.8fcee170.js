"use strict";(self["webpackChunksmart_shopping"]=self["webpackChunksmart_shopping"]||[]).push([[2],{3002:function(t,e,s){s.r(e),s.d(e,{default:function(){return u}});s(4114);var o=function(){var t=this,e=t._self._c;return e("div",{staticClass:"search"},[e("van-nav-bar",{attrs:{fixed:"",title:"商品列表","left-arrow":""},on:{"click-left":function(e){return t.$router.go(-1)}}}),e("van-search",{attrs:{readonly:"",shape:"round",background:"#ffffff",placeholder:"请输入搜索关键词",value:t.$route.query.search,"show-action":""},on:{click:function(e){return t.$router.push(`/search?search=${t.$route.query.search||""}`)}},scopedSlots:t._u([{key:"action",fn:function(){return[e("van-icon",{staticClass:"tool",attrs:{name:"apps-o"}})]},proxy:!0}])}),e("div",{staticClass:"sort-btns"},[e("div",{staticClass:"sort-item",on:{click:function(e){return t.getDetail({sortType:"all",sortPrice:"0",categoryId:t.categoryId,goodsName:t.goodsName,page:t.page})}}},[t._v("综合")]),e("div",{staticClass:"sort-item",on:{click:function(e){return t.getDetail({sortType:"sales",sortPrice:"0",categoryId:t.categoryId,goodsName:t.goodsName,page:t.page})}}},[t._v("销量")]),e("div",{staticClass:"sort-item",on:{click:function(e){return t.getDetail({sortType:"price",sortPrice:t.sortPrice,categoryId:t.categoryId,goodsName:t.goodsName,page:t.page})}}},[t._v("价格")])]),e("div",{staticClass:"goods-list"},t._l(t.goodsList,(function(t){return e("GoodsItem",{key:t.goods_id,attrs:{item:t}})})),1)],1)},r=[],a=s(9677),i=s(5720);const c=t=>{const{sortType:e,sortPrice:s,categoryId:o,goodsName:r,page:a}=t;return i.A.get("/goods/list",{params:{sortType:e,sortPrice:s,categoryId:o,goodsName:r,page:a}})};var n={name:"SearchListIndex",created(){this.getDetail({sortType:"all",sortPrice:"0",categoryId:this.categoryId,goodsName:this.goodsName,page:this.page})},data(){return{goodsList:[],sortPrice:"0",categoryId:this.$route.query.categoryId||"",goodsName:this.$route.query.search||"",page:"1"}},methods:{async getDetail(t){const{data:{list:{data:e}}}=await c(t);this.goodsList=e,"price"!==t.sortType?this.sortPrice="0":"0"===this.sortPrice?this.sortPrice="1":this.sortPrice="0"}},components:{GoodsItem:a.A}},d=n,g=s(1656),l=(0,g.A)(d,o,r,!1,null,"1e4201a0",null),u=l.exports}}]);
//# sourceMappingURL=2.8fcee170.js.map